language: node_js
node_js:
- 8.11.2
cache:
  directories:
  - node_modules
before_install:
- openssl aes-256-cbc -K $encrypted_81d1fc7fdfa5_key -iv $encrypted_81d1fc7fdfa5_iv
  -in mtevents_travis_key.enc -out mtevents_travis_key -d
- chmod 600 mtevents_travis_key
after_success:
- npm run codecov
- scp -i mtevents_travis_key -P $DEPLOY_PORT -o stricthostkeychecking=no -r dist/mtevents.min.js
  $DEPLOY_USER@$DEPLOY_HOST:/usr/local/nginx/html
env:
  global:
  - secure: h0cFStImN6RXqPFN+HrTmblf682DEyj08e+d97O2eKTBmvdyd5W1cbQiNMgAZC38Jh2TVzRteEWQWJOYqhuAX/v1eU27v+aCZlSsZ/p6OGIXZ+g04sGKWwf1eBYLbLKbkGoC+S7dcYY+bub/h6yWKNefLHQejOqt6eE6ZtHV9ztno4s18EEf/pXZL4JnHN/3EcJlKvq1xyNpTJTyS3m4wJBzlp/vZSfNdL3VnIsI9C4Z/UGy6l/yLuSPfGfjZkguJUirYfIMDZQXgBpUaxL1bHKx9WoDuMn89CCROFq1tt5LSOdiJx8y738smecCJzQLk0aXkaG8JcTCfuYW5oLLzLKTTPr8gheceUSwifMSdQ7el617EigmwDLoYt4BgDqltSIoFWXV9DeJaPGGq1E5rh9x3QkPmYLH3A3PCe4mFyaEJBpq0Ut75LoPh2AxYO9iTLfjCrSC12EUcwjN71m5I+zEALsAnmmteBX9CvKztBnQEmRCoWDXDy2U+x56lJ7RILrni0i0jo7wiC71GuvlE7zTB2cCFZYKZrEa1GwYMhOuSv7+woDmN/63En4ZdrSvIL9vA+b6OxSPdkKBVarwbVXnXgDB0n0F0Mq8SAaNm9e6H+JQe1ZNMJjTiG7QUwsZ0qKU7hCwcVmekQ64D3KRcuwC5LuBTKjxGveSKSs8V6U=
  - secure: MAR53ewJ+zq5MIRkCaEudskIcMV7Wf07+OW+eK3SRYtB5bEGGYC6MF7ELfmb2oWGJq6dCGIwSZ/TDiJF3S54Wm3870nQ12hyMp9qFWuDwITffrnavkKxJUtxqZ04spz3zwsDxQiXs2kGbg0Q+qKmVWU6/TYF1yX7HX2NmhS7dhjKiQdLFW01AZpHfgbP0O0wxNTkcr47UL1DaCX40exhovDsJNZY3uzG3x9Mn/RV5N8rnx3QFFZeliuHH5yFxqAV3mku7qKtuJ1UizLs6+OVoEBmkMPRoEz4NCzlzpv7itEK3sX0wgQjpuFc21xA9NrNZuV8CjNc+vlWhfwHkkonkDY/f8kUwzHZL4c64Ub46MtOl3SZ+TXE3cFkKYCEPl8j1IyRIZYR3pT/8ciyCUzrxY4zGmymlDLA++I0XHZgW5YvungkeyP8oqVLCVfH4GMjwD1P+uZgDiQ/03FoKIj9a0BEXobe0JECMUu+ioAPLvmUX5J/d/CJvOJye9RanYhOxwTYv2bd1FDlbby4n/90aMPl3+9kID3jcWhQDjeXqdQiDwV0/a1uuCuMgSXfeYI5qjHKcmxaGHdA3xM83/tpWnUhqwO/qudBNqBDMbF0gvt9kBGkUHWn0PkbR9/i2VWdYjKpfzYejkCLyi9Ml5nPX3hzlbMaXv2y48HEV8LYBUg=
  - secure: H1JUEwmgiTAKYIV10UA8OgxKMdCP3u6rnPddNu6rfCEEQBTBviJtvBHFnqjQKJ6cATsSEX745PKIXgMkQSN3bgeuV/2n+iDRxSY5k/6ZkP2R2RL9DdoUVuLWPhQ2EtqVv6oiE2YZVA3206va4ro0iFNbkvot6RUgREoRJ02cMwPdVLRn6pi24UY00510voGAkEzytaE1GidQ5POQmfYDE9kYoqx1Y1iIn/a5HzyBPuvPHM16bVHiKH8S7PUPi+xXgYOxH3pqpOR70e4ArEzKpft4yoY0z7orD0JU1zbzrhLFP9ZqpKnO5RwkHW25FyueTWiPATqOvJRA503SjWhoGPTxq7d+/ImjSMMhAsEs1UyljfWrt4Dj4WothVhp7Fpge/bvCqhbnImJOmKF03sP9s3MqL1MShazLATeRl7tLrio24Xv+9oypr8HWqmentRqoHsHs6r6CE79PrQH5v3RaCQIG+BGRnxrivOFE/6lNJJ0gF/jCXfogRtav5LJcPdKk7QtM7S4y8l8YnDZ8SMm88rYlRULA2bdazS0DMoHrmzaVrG94QahyBg2yO67BS7KGBZAg3q7ZWB49xLUIrhCFZcnHecPH8UT+ZWoR2k/AVR5hl9AmaYzSZd4gQ8/twyHUeVL0qPn7142bms1AZk9HOTJtTEmCt9s7NUvGhVGoVA=
